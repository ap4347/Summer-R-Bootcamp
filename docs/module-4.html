<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Module 4 | Summer R Bootcamp</title>
<meta name="author" content="Alex Pijyan">
<meta name="description" content="  Functions Now, it’s time to discuss one of the most essential concepts of R programming, that is, R functions. Writing functions is a core activity of an R programmer. Functions are often used...">
<meta name="generator" content="bookdown 0.41 with bs4_book()">
<meta property="og:title" content="Module 4 | Summer R Bootcamp">
<meta property="og:type" content="book">
<meta property="og:description" content="  Functions Now, it’s time to discuss one of the most essential concepts of R programming, that is, R functions. Writing functions is a core activity of an R programmer. Functions are often used...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Module 4 | Summer R Bootcamp">
<meta name="twitter:description" content="  Functions Now, it’s time to discuss one of the most essential concepts of R programming, that is, R functions. Writing functions is a core activity of an R programmer. Functions are often used...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.8.0/transition.js"></script><script src="libs/bs3compat-0.8.0/tabs.js"></script><script src="libs/bs3compat-0.8.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Summer R Bootcamp</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Welcome</a></li>
<li class="book-part">Week 1</li>
<li><a class="" href="introduction.html">Introduction</a></li>
<li><a class="" href="module-1.html">Module 1</a></li>
<li><a class="" href="module-2.html">Module 2</a></li>
<li><a class="" href="module-3.html">Module 3</a></li>
<li><a class="active" href="module-4.html">Module 4</a></li>
<li><a class="" href="problem-set-1.html">Problem Set 1</a></li>
<li><a class="" href="ps-1-solutions.html">PS 1 Solutions</a></li>
<li class="book-part">Week 2</li>
<li><a class="" href="module-5.html">Module 5</a></li>
<li><a class="" href="module-6.html">Module 6</a></li>
<li><a class="" href="module-7.html">Module 7</a></li>
<li><a class="" href="problem-set-2.html">Problem Set 2</a></li>
<li><a class="" href="ps-2-solutions.html">PS 2 Solutions</a></li>
<li class="book-part">Week 3</li>
<li><a class="" href="module-8.html">Module 8</a></li>
<li><a class="" href="module-9.html">Module 9</a></li>
<li><a class="" href="module-10.html">Module 10</a></li>
<li><a class="" href="module-11.html">Module 11</a></li>
<li><a class="" href="problem-set-3.html">Problem Set 3</a></li>
<li><a class="" href="ps-3-solutions.html">PS 3 Solutions</a></li>
<li class="book-part">Week 4</li>
<li><a class="" href="module-12.html">Module 12</a></li>
<li><a class="" href="module-13.html">Module 13</a></li>
<li><a class="" href="module-14.html">Module 14</a></li>
<li><a class="" href="problem-set-4.html">Problem Set 4</a></li>
<li><a class="" href="ps-4-solutions.html">PS 4 Solutions</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/rstudio/bookdown-demo">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="module-4" class="section level1 unnumbered">
<h1>Module 4<a class="anchor" aria-label="anchor" href="#module-4"><i class="fas fa-link"></i></a>
</h1>
<p> </p>
<div id="functions" class="section level2 unnumbered">
<h2>Functions<a class="anchor" aria-label="anchor" href="#functions"><i class="fas fa-link"></i></a>
</h2>
<p>Now, it’s time to discuss one of the most essential concepts of R programming, that is, <code>R functions</code>. Writing functions is a core activity of an R programmer. Functions are often used to encapsulate a sequence of expressions that need to be executed numerous times, perhaps under slightly different conditions. In other words, functions allow us to automate common tasks in a more powerful and general way than simply copy-and-pasting. They are also often written when code must be shared with others or the public.</p>
<p>You should consider writing a function whenever you’ve copied and pasted a block of code more than twice. In this module, we will learn how to create a customized (user-defined) functions and will discuss essential tools that <code>R functions</code> are equipped with.</p>
<div id="creating-a-function" class="section level3 unnumbered">
<h3>Creating a Function<a class="anchor" aria-label="anchor" href="#creating-a-function"><i class="fas fa-link"></i></a>
</h3>
<p>A function is a set of statements organized together to perform a specific task. R has a large number of <code>in-built functions</code> and the user can create their own functions. In R, a function is an object so the R interpreter is able to pass control to the function, along with arguments that may be necessary for the function to accomplish the actions.</p>
<p>An <code>R function</code> is created by using the <code>function()</code> function (Yeah, too many functions). The basic syntax of an R function is as follows:</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="module-4.html#cb110-1" tabindex="-1"></a></span>
<span id="cb110-2"><a href="module-4.html#cb110-2" tabindex="-1"></a>function_name <span class="ot">&lt;-</span> <span class="cf">function</span>(arg_1, arg_2, ...) {</span>
<span id="cb110-3"><a href="module-4.html#cb110-3" tabindex="-1"></a>  </span>
<span id="cb110-4"><a href="module-4.html#cb110-4" tabindex="-1"></a>   Function body </span>
<span id="cb110-5"><a href="module-4.html#cb110-5" tabindex="-1"></a>}</span></code></pre></div>
<p>The main components of an R function are:</p>
<ul>
<li>
<code>Function Name</code> - this is the name of your function. It is stored in R environment as an object under this name.</li>
<li>
<code>Arguments</code> - an argument is a placeholder. When a function is invoked, you pass a value to the argument. Arguments are optional; that is, a function may contain no arguments. Also arguments can have default values. In this example, arguments are <code>arg_1</code>, <code>arg_2</code> etc.</li>
<li>
<code>Function Body</code> − the function body contains a collection of statements that defines what the function does.</li>
<li>
<code>Return Value</code> − the return value of a function is the last expression in the function body to be evaluated.</li>
</ul>
<p>Here is an example of a simple function that prints <code>"Hello class 2102!"</code>:</p>
<div class="sourceCode" id="cb111"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">first_function</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span> </span>
<span>  </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">"Hello class 2102!"</span><span class="op">)</span></span>
<span>  </span>
<span><span class="op">}</span></span></code></pre></div>
<p>To call a function , use the function name followed by parenthesis:</p>
<div class="sourceCode" id="cb112"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu">first_function</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Hello class 2102!"</span></span></code></pre></div>
<p>Here is another example of a simple function:</p>
<div class="sourceCode" id="cb113"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">new_function</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span><span class="op">{</span></span>
<span>  </span>
<span>  <span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span> <span class="op">{</span></span>
<span>    </span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">i</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span></span>
<span>    </span>
<span>  <span class="op">}</span></span>
<span>  </span>
<span><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb114"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu">new_function</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="co">#&gt; [1] 4</span></span>
<span><span class="co">#&gt; [1] 9</span></span>
<span><span class="co">#&gt; [1] 16</span></span>
<span><span class="co">#&gt; [1] 25</span></span></code></pre></div>
<p>To check the collection of statements that a function contains, use the function name without parenthesis:</p>
<div class="sourceCode" id="cb115"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">new_function</span></span>
<span><span class="co">#&gt; function () </span></span>
<span><span class="co">#&gt; {</span></span>
<span><span class="co">#&gt;     for (i in 1:5) {</span></span>
<span><span class="co">#&gt;         print(i^2)</span></span>
<span><span class="co">#&gt;     }</span></span>
<span><span class="co">#&gt; }</span></span>
<span><span class="co">#&gt; &lt;bytecode: 0x000001f706433ce8&gt;</span></span></code></pre></div>
</div>
<div id="function-arguments" class="section level3 unnumbered">
<h3>Function Arguments<a class="anchor" aria-label="anchor" href="#function-arguments"><i class="fas fa-link"></i></a>
</h3>
<p>Information can be passed into functions as arguments. Arguments are specified after the function name, inside the parentheses. You can add as many arguments as you want, just separate them with a comma. Here is an example of a function with a single argument:</p>
<div class="sourceCode" id="cb116"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">fun_1</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span></span>
<span>  </span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">x</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span></span>
<span>  </span>
<span><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb117"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu">fun_1</span><span class="op">(</span>x <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 25</span></span></code></pre></div>
<p>Now let’s create a function with two arguments:</p>
<div class="sourceCode" id="cb118"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">fun_2</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span><span class="op">{</span></span>
<span>  </span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">x</span> <span class="op">-</span> <span class="va">y</span><span class="op">)</span></span>
<span>  </span>
<span><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb119"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu">fun_2</span><span class="op">(</span>x <span class="op">=</span> <span class="fl">5</span>, y <span class="op">=</span> <span class="fl">7</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] -2</span></span></code></pre></div>
<div id="argument-matching" class="section level4 unnumbered">
<h4>Argument Matching<a class="anchor" aria-label="anchor" href="#argument-matching"><i class="fas fa-link"></i></a>
</h4>
<p>Calling an R function with arguments can be done in a variety of ways. This may be confusing at first, but it’s really handing when doing interactive work at the command line. R functions arguments can be matched by name or by position.</p>
<p>When matched by position, R assigns the first value to the first argument, the second value to second argument and so on. For example, <code>fun_2(5, 7)</code> means R will assign <code>5</code> to the <code>x</code> argument and <code>7</code> to the <code>y</code>.</p>
<div class="sourceCode" id="cb120"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu">fun_2</span><span class="op">(</span><span class="fl">5</span>, <span class="fl">7</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] -2</span></span></code></pre></div>
<p>Now try it other way around:</p>
<div class="sourceCode" id="cb121"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu">fun_2</span><span class="op">(</span><span class="fl">7</span>, <span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 2</span></span></code></pre></div>
<p>When specifying the function arguments by name, it doesn’t matter in what order you specify them:</p>
<div class="sourceCode" id="cb122"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu">fun_2</span><span class="op">(</span>x <span class="op">=</span> <span class="fl">5</span>, y <span class="op">=</span> <span class="fl">7</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] -2</span></span></code></pre></div>
<div class="sourceCode" id="cb123"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu">fun_2</span><span class="op">(</span>y <span class="op">=</span> <span class="fl">7</span>, x <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] -2</span></span></code></pre></div>
</div>
<div id="number-of-arguments" class="section level4 unnumbered">
<h4>Number of Arguments<a class="anchor" aria-label="anchor" href="#number-of-arguments"><i class="fas fa-link"></i></a>
</h4>
<p>By default, a function must be called with the correct number of arguments. Meaning that if your function expects 2 arguments, you have to call the function with 2 arguments, not more, and not less. Try these examples out and see what you get:</p>
<div class="sourceCode" id="cb124"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu">fun_2</span><span class="op">(</span><span class="fl">7</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in fun_2(7): argument "y" is missing, with no default</span></span></code></pre></div>
<div class="sourceCode" id="cb125"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu">fun_2</span><span class="op">(</span><span class="fl">7</span>, <span class="fl">5</span>, <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in fun_2(7, 5, 3): unused argument (3)</span></span></code></pre></div>
</div>
<div id="arguments-with-default-values" class="section level4 unnumbered">
<h4>Arguments with Default Values<a class="anchor" aria-label="anchor" href="#arguments-with-default-values"><i class="fas fa-link"></i></a>
</h4>
<p>You can assign default values to arguments in a function. If you call the function without an argument, it uses the default value:</p>
<div class="sourceCode" id="cb126"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">fun_3</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span> <span class="op">=</span> <span class="fl">2</span>, <span class="va">y</span><span class="op">)</span><span class="op">{</span></span>
<span>  </span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span> <span class="op">(</span><span class="va">x</span> <span class="op">-</span> <span class="va">y</span><span class="op">)</span></span>
<span>  </span>
<span><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb127"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu">fun_3</span><span class="op">(</span>y <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] -2</span></span></code></pre></div>
<p>But you can still pass new values to arguments with default settings:</p>
<div class="sourceCode" id="cb128"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu">fun_3</span><span class="op">(</span>x <span class="op">=</span> <span class="fl">10</span>, y <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 7</span></span></code></pre></div>
<hr>
<p>R objects with various data structures can be passed to a function as arguments. For instance, we pass vectors <code>vec1</code> and <code>vec2</code> to the function <code>fun_4</code>:</p>
<div class="sourceCode" id="cb129"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">vec1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">5</span><span class="op">)</span></span>
<span></span>
<span><span class="va">vec2</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span></span>
<span></span>
<span><span class="va">fun_4</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span><span class="op">{</span></span>
<span>  </span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">x</span> <span class="op">+</span> <span class="va">y</span><span class="op">)</span></span>
<span>  </span>
<span><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb130"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu">fun_4</span><span class="op">(</span>x <span class="op">=</span> <span class="va">vec1</span>, y <span class="op">=</span> <span class="va">vec2</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1]  2  4  6  8 10</span></span></code></pre></div>
</div>
</div>
<div id="lazy-evaluation" class="section level3 unnumbered">
<h3>Lazy Evaluation<a class="anchor" aria-label="anchor" href="#lazy-evaluation"><i class="fas fa-link"></i></a>
</h3>
<p>Arguments to functions are evaluated <strong>lazily</strong>, so they are evaluated only as needed in the body of the function. For example, the function <code>fun_5</code> has two arguments, but it uses only one of them (argument <code>x</code>).</p>
<div class="sourceCode" id="cb131"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">fun_5</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span><span class="op">{</span></span>
<span>  </span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">x</span> <span class="op">+</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>So calling <code>fun_5(x = 5)</code> will not produce an error, because the missing argument <code>y</code> is not used inside the body of the function.</p>
<div class="sourceCode" id="cb132"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu">fun_5</span><span class="op">(</span>x <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 5</span></span></code></pre></div>
<p>But if we omit argument <code>x</code> while calling the function <code>fun_5</code>, it will produce an error, because the body of the function uses <code>x</code> argument to produce the output:</p>
<div class="sourceCode" id="cb133"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu">fun_5</span><span class="op">(</span>y <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in fun_5(y = 3): argument "x" is missing, with no default</span></span></code></pre></div>
</div>
<div id="function-environments-and-global-variables" class="section level3 unnumbered">
<h3>Function Environments and Global Variables<a class="anchor" aria-label="anchor" href="#function-environments-and-global-variables"><i class="fas fa-link"></i></a>
</h3>
<p>When R tries to bind a value to a symbol, it searches through a series of <strong>environments</strong> to find the appropriate value. An environment is a collection of (symbol, value) pairs, i.e. <code>x</code> is a symbol and <code>3.14</code> might be its value. In this class, we will consider two environments: <strong>Global Environment</strong> and <strong>Functional Environment</strong>.</p>
<p>The <em>global environment</em> or the user’s workspace stores all R objects that you create while working in R. In contrast to global environment, the <em>functional environment</em> contains all objects that are created inside of a function.</p>
<p>When you call an R function, it first searches for objects in the function’s environment and then in the global environment. For instance, compare the functions given below. What would be the output in each case?</p>
<div class="sourceCode" id="cb134"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fl">5</span>                        <span class="co"># this variable exists in the global environment</span></span>
<span></span>
<span><span class="va">fun_6</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span></span>
<span>  </span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">x</span> <span class="op">+</span> <span class="va">a</span><span class="op">)</span></span>
<span>  </span>
<span><span class="op">}</span></span>
<span></span>
<span></span>
<span><span class="fu">fun_6</span><span class="op">(</span>x  <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 7</span></span></code></pre></div>
<div class="sourceCode" id="cb135"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fl">5</span>                        <span class="co"># this variable exists in the global environment</span></span>
<span></span>
<span><span class="va">fun_7</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span></span>
<span>  </span>
<span>  <span class="va">a</span> <span class="op">&lt;-</span> <span class="fl">10</span>                    <span class="co"># this variable exists in the environment of fun_7</span></span>
<span>  </span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">x</span> <span class="op">+</span> <span class="va">a</span><span class="op">)</span></span>
<span>  </span>
<span><span class="op">}</span></span>
<span></span>
<span></span>
<span><span class="fu">fun_7</span><span class="op">(</span>x <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 12</span></span></code></pre></div>
<p>In another example given below, a variable <code>b</code> exists in the environment of <code>func_8</code> only. So, if you try to print out <code>b</code> object separately, R will throw an error, because such an object does not exist in the global environment:</p>
<div class="sourceCode" id="cb136"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">fun_8</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span></span>
<span>  </span>
<span>  <span class="va">a</span> <span class="op">&lt;-</span> <span class="fl">10</span>                   <span class="co"># this variable exists in the environment of fun_8</span></span>
<span>  </span>
<span>  <span class="va">b</span> <span class="op">&lt;-</span> <span class="fl">20</span>                   <span class="co"># this variable exists in the environment of fun_8</span></span>
<span>  </span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">x</span> <span class="op">+</span> <span class="va">a</span> <span class="op">+</span> <span class="va">b</span><span class="op">)</span></span>
<span>  </span>
<span><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb137"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">b</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error: object 'b' not found</span></span></code></pre></div>
<p>Now, if you want to create an object inside of a function that will be accessibly in global environment as well, then you should use <code>&lt;&lt;-</code> operator:</p>
<div class="sourceCode" id="cb138"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">fun_8</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span></span>
<span>  </span>
<span>  <span class="va">a</span> <span class="op">&lt;-</span> <span class="fl">10</span>                   <span class="co"># this variable exists in the environment of fun_8</span></span>
<span>  </span>
<span>  <span class="va">b</span> <span class="op">&lt;&lt;-</span> <span class="fl">20</span>                   <span class="co"># this variable will exist in both global </span></span>
<span>                             <span class="co"># and functional environments</span></span>
<span>  </span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">x</span> <span class="op">+</span> <span class="va">a</span> <span class="op">+</span> <span class="va">b</span><span class="op">)</span></span>
<span>  </span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div id="nested-function" class="section level3 unnumbered">
<h3>Nested Function<a class="anchor" aria-label="anchor" href="#nested-function"><i class="fas fa-link"></i></a>
</h3>
<p>Like <code>for</code> loops, we can produce <strong>nested functions</strong> by putting one function into another. Here is an example of a nested function:</p>
<div class="sourceCode" id="cb139"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">fun_10</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span><span class="op">{</span></span>
<span>  </span>
<span>  <span class="va">func_11</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span><span class="op">{</span></span>
<span>    </span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">x</span> <span class="op">+</span> <span class="va">y</span><span class="op">)</span></span>
<span>    </span>
<span>  <span class="op">}</span></span>
<span>  </span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="fl">2</span><span class="op">*</span><span class="fu">func_11</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span>  </span>
<span><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb140"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu">fun_10</span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 10</span></span></code></pre></div>

</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="module-3.html">Module 3</a></div>
<div class="next"><a href="problem-set-1.html">Problem Set 1</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#module-4">Module 4</a></li>
<li>
<a class="nav-link" href="#functions">Functions</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#creating-a-function">Creating a Function</a></li>
<li><a class="nav-link" href="#function-arguments">Function Arguments</a></li>
<li><a class="nav-link" href="#lazy-evaluation">Lazy Evaluation</a></li>
<li><a class="nav-link" href="#function-environments-and-global-variables">Function Environments and Global Variables</a></li>
<li><a class="nav-link" href="#nested-function">Nested Function</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/rstudio/bookdown-demo/blob/master/Module_4.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/rstudio/bookdown-demo/edit/master/Module_4.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Summer R Bootcamp</strong>" was written by Alex Pijyan. It was last built on 2025-07-28.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
